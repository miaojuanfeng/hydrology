<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="gov.gz.hydrology.mapper.read.RiverDao" >
	<resultMap id="BaseResultMap" type="gov.gz.hydrology.entity.read.River" >
		<id column="stcd" property="stcd" jdbcType="VARCHAR" />
        <result column="tm" property="tm"/>
        <result column="z" property="z"/>
	</resultMap>

    <select id="selectRainfallTime" resultMap="BaseResultMap">
        select stcd, tm, z from st_river_r
        <!--where CONVERT(varchar(100), tm, 23) >= CONVERT(varchar(100), dateadd(day, -5, getdate()), 23)-->
        where stcd = #{stcd}
        and 24*60>=datediff(mi,tm,'2018-06-18 12:25:00')
        and datediff(mi,tm,'2018-06-18 12:25:00')>=0
    </select>
</mapper>